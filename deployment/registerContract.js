console.log('Starting contract deployment.....');

baseContractAbi=[{"constant":true,"inputs":[],"name":"wineCharacteristics","outputs":[{"name":"grapeVariety","type":"string"},{"name":"colour","type":"string"},{"name":"alcoholLevel","type":"uint256"},{"name":"acidLevel","type":"string"},{"name":"phenolicContent","type":"string"},{"name":"sugarLevel","type":"uint256"},{"name":"minerals","type":"string"},{"name":"co2","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"kill","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"supplyChain","outputs":[{"name":"source","type":"address"},{"name":"transactionDate","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"variety","type":"string"}],"name":"grapeVariety","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"owner","type":"address"}],"name":"TransferOwnership","type":"event"},{"anonymous":false,"inputs":[],"name":"CharacteristicsSet","type":"event"}]

baseContractBytecode='0x6060604052341561000f57600080fd5b60008054600160a060020a033316600160a060020a03199091161790556108cf8061003b6000396000f3006060604052600436106100775763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663155f303d811461007957806341c0e1b5146102bd5780638da5cb5b146102d0578063f2fde38b146102ff578063f4e153f41461031e578063faf0ab6314610356575b005b341561008457600080fd5b61008c6103a7565b60405180806020018060200189815260200180602001806020018881526020018060200187815260200186810386528e818151815260200191508051906020019080838360005b838110156100eb5780820151838201526020016100d3565b50505050905090810190601f1680156101185780820380516001836020036101000a031916815260200191505b5086810385528d818151815260200191508051906020019080838360005b8381101561014e578082015183820152602001610136565b50505050905090810190601f16801561017b5780820380516001836020036101000a031916815260200191505b5086810384528b818151815260200191508051906020019080838360005b838110156101b1578082015183820152602001610199565b50505050905090810190601f1680156101de5780820380516001836020036101000a031916815260200191505b5086810383528a818151815260200191508051906020019080838360005b838110156102145780820151838201526020016101fc565b50505050905090810190601f1680156102415780820380516001836020036101000a031916815260200191505b50868103825288818151815260200191508051906020019080838360005b8381101561027757808201518382015260200161025f565b50505050905090810190601f1680156102a45780820380516001836020036101000a031916815260200191505b509d505050505050505050505050505060405180910390f35b34156102c857600080fd5b6100776106d5565b34156102db57600080fd5b6102e36106fc565b604051600160a060020a03909116815260200160405180910390f35b341561030a57600080fd5b610077600160a060020a036004351661070b565b341561032957600080fd5b610334600435610773565b604051600160a060020a03909216825260208201526040908101905180910390f35b341561036157600080fd5b61007760046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506107a995505050505050565b6001806000018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104415780601f1061041657610100808354040283529160200191610441565b820191906000526020600020905b81548152906001019060200180831161042457829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104df5780601f106104b4576101008083540402835291602001916104df565b820191906000526020600020905b8154815290600101906020018083116104c257829003601f168201915b505050505090806002015490806003018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105835780601f1061055857610100808354040283529160200191610583565b820191906000526020600020905b81548152906001019060200180831161056657829003601f168201915b505050505090806004018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106215780601f106105f657610100808354040283529160200191610621565b820191906000526020600020905b81548152906001019060200180831161060457829003601f168201915b505050505090806005015490806006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106c55780601f1061069a576101008083540402835291602001916106c5565b820191906000526020600020905b8154815290600101906020018083116106a857829003601f168201915b5050505050908060070154905088565b60005433600160a060020a03908116911614156106fa57600054600160a060020a0316ff5b565b600054600160a060020a031681565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790557fcfaaa26691e16e66e73290fc725eee1a6b4e0e693a1640484937aac25ffb55a433604051600160a060020a03909116815260200160405180910390a150565b600980548290811061078157fe5b600091825260209091206002909102018054600190910154600160a060020a03909116915082565b60005433600160a060020a039081169116146107c457610805565b60018180516107d7929160200190610808565b507fb01e41c78e8661bef1a9a1df59bd1fbf2ce698f53f466e9a4d0b8b51d3dafb4560405160405180910390a15b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061084957805160ff1916838001178555610876565b82800160010185558215610876579182015b8281111561087657825182559160200191906001019061085b565b50610882929150610886565b5090565b6108a091905b80821115610882576000815560010161088c565b905600a165627a7a72305820b468721bd4bd345062738e78e5b9374beae4a1b2510d14c2b9431733cf2f1c8b0029';

// Verify this at any stage using 
//    eth.getCode("<contract address>")
//

var _greeting = "Hello World........!";
var greeterContract = web3.eth.contract(baseContractAbi);
var greeter = greeterContract.new(
   _greeting,
   {
     from:web3.eth.accounts[0], 
     data: baseContractBytecode, 
     gas: 3000000}, 
function(e, contract){
    console.log(e, contract);
    if (typeof contract.address != 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
})
console.log('Completed contract deployment.....');
